!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=5)}([function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=0,n=0,r="",o="",i="",a=XMLHttpRequest,u=window.fetch;function c(){e.emit({type:"ajaxError",date:(new Date).getTime(),source:window.location.href,content:{method:r,url:o,statusText:i}})}XMLHttpRequest=function(){for(var u in this.xhr=new a,this.xhr)Object.defineProperty(this,u,{set:f(u),get:s(u)});function s(e){return function(){return"open"==e?function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return console.log.apply(console,e),r=e[0],o=e[1],this.xhr.open.apply(this.xhr,e)}:"function"==typeof this.xhr[e]?this.xhr[e].bind(this.xhr):this.xhr[e]}}function f(a){if("onreadystatechange"==a)return function(a){this.xhr.onreadystatechange=function(){setTimeout(function(){switch(this.readyState){case 1:t=(new Date).getTime();break;case 4:(n=(new Date).getTime())-t>500&&e.emit({type:"ajaxTimeout",date:(new Date).getTime(),source:window.location.href,content:{method:r,url:o,time:n-t}}),this.status>=400&&(i=this.responseText,c())}a.apply(this,arguments)},0)}}}},window.fetch=function(){for(var e=[],a=0;a<arguments.length;a++)e[a]=arguments[a];o=e[0];var s=e[1];return r="object"==typeof s?s.method:"GET",t=(new Date).getTime(),u.apply(this,e).then(function(e){return n=(new Date).getTime(),e}).catch(function(e){return i="fetch error:"+e,c(),e})}}},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){window.addEventListener("error",function(t){if(t.target!=window){var n={type:"resource",date:(new Date).getTime(),source:t.target.currentSrc,content:{class:t.target.localName,message:"load error."}};e.emit(n)}},!0)}},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(window.performance||performance.timing){var t=window.onload;window.onload=function(){setTimeout(function(){var t=window.performance.timing,n={dns:t.domainLookupEnd-t.domainLookupStart,connect:t.connectEnd-t.connectStart,whtite:t.responseStart-t.navigationStart,domp:t.domComplete-t.domInteractive,dom:t.domContentLoadedEventEnd-t.navigationStart,request:t.responseEnd-t.responseStart,onload:t.loadEventEnd-t.navigationStart};e.emit({type:"perf",date:(new Date).getTime(),source:location.href,content:n})},100),t&&t.apply(this,arguments)}}}},function(e,t){var n=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e};Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=window.onerror;window.onerror=function(r,o,i,a,u){var c="",s={message:r,lineno:i,colno:a};if(u&&u.stack)c=u.message+"\n "+u.stack;else if(arguments.callee)for(var f=arguments.callee.caller,l=3;f&&--l>0&&(c+=f.toString()+",",f!==f.caller);)f=f.caller;o&&!(r.toLowerCase().indexOf("script error")>-1)&&Math.random()<=.314&&e.emit({type:"jsErr",date:(new Date).getTime(),source:o,content:n({},s,{msg:c})}),t&&t.apply(this,arguments)},window.addEventListener("unhandledrejection",function(t){Math.random()<=.314&&e.emit({type:"unhandledrejection",date:(new Date).getTime(),source:window.location.href,content:{reason:t.reason}})})}},function(e,t){var n=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e};Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this.logs=[],this.reportUrl="monitor.ftoul.com",this.repProcess=null}return e.prototype.mount=function(e){var t=this;try{e({emit:function(e){return t.emit(e)}})}catch(e){return console.log("插件加载失败: "+e),!1}return!0},e.prototype.emit=function(e){var t=this;this.logs.push(n({id:e.date+Math.floor(1e5*Math.random()),userAgent:navigator.userAgent||"",lang:navigator.language||""},e)),this.repProcess?(clearTimeout(this.repProcess),this.repProcess=setTimeout(function(){return t.reportToServerByImg()},500)):this.repProcess=setTimeout(function(){return t.reportToServerByImg()},500)},e.prototype.reportToServerByImg=function(){var e=JSON.stringify(this.logs);(new Image).src=this.reportUrl+"?m="+e,this.logs=[]},e}();t.default=r},function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(4)),i=r(n(3)),a=r(n(2)),u=r(n(1)),c=r(n(0)),s=new o.default;s.mount(i.default),s.mount(a.default),s.mount(u.default),s.mount(c.default)}]);